Hw04
================

Homework 1 \#\# Jian's tidyr cheatsheet

Sometimes our data could be either too messy or too genralized that we cannot analyze the properly. Sometimes, we want to make certain plots but the varibles is not directly presented that R could understand. Therefore, we need to reshape our data frame so that we could have the information we needed to poeperly analyze the data. **Gather** and **Spread** are two useful tools in tidyr in helping us reshape our data. Both functions will create new columns that either combines variables into one (make the data frame longer) or split one varible into many varibles(make the data frame wider).

Format
------

The format of gather and spread is: data.frame %&gt;% gather/spread(key,value,...)

**Key** will be the header(s) for the new columns that include previous variable headers **Value** will be the header(s) for the new columns that include previous varibale observations **...** will be the reshaping criterias, what include and what not include.

I will use gapminder data to demonstrate how gather and spread could be used.

Let's say we want to know the total GDP of Canada and China.

``` r
library(gapminder)
library(tidyverse)
```

    ## Loading tidyverse: ggplot2
    ## Loading tidyverse: tibble
    ## Loading tidyverse: tidyr
    ## Loading tidyverse: readr
    ## Loading tidyverse: purrr
    ## Loading tidyverse: dplyr

    ## Warning: package 'tibble' was built under R version 3.4.1

    ## Warning: package 'tidyr' was built under R version 3.4.1

    ## Warning: package 'purrr' was built under R version 3.4.1

    ## Warning: package 'dplyr' was built under R version 3.4.1

    ## Conflicts with tidy packages ----------------------------------------------

    ## filter(): dplyr, stats
    ## lag():    dplyr, stats

``` r
example1 <- gapminder %>% 
  filter(country %in% c("China","Canada"))%>%
  select(gdpPercap,pop,year,country)%>%
  mutate(gdp_billions=gdpPercap*pop/1000000000)%>%
  select(gdp_billions,year,country)

knitr::kable(example1)
```

|  gdp\_billions|  year| country |
|--------------:|-----:|:--------|
|       168.0701|  1952| Canada  |
|       212.4560|  1957| Canada  |
|       255.5967|  1962| Canada  |
|       334.7108|  1967| Canada  |
|       422.7497|  1972| Canada  |
|       525.6835|  1977| Canada  |
|       577.0931|  1982| Canada  |
|       706.9260|  1987| Canada  |
|       751.3913|  1992| Canada  |
|       877.5034|  1997| Canada  |
|      1063.2696|  2002| Canada  |
|      1212.7044|  2007| Canada  |
|       222.7550|  1952| China   |
|       367.1387|  1957| China   |
|       324.6787|  1962| China   |
|       462.3171|  1967| China   |
|       583.5082|  1972| China   |
|       699.3242|  1977| China   |
|       962.6918|  1982| China   |
|      1494.7802|  1987| China   |
|      1928.9389|  1992| China   |
|      2815.9297|  1997| China   |
|      3993.9273|  2002| China   |
|      6539.5009|  2007| China   |

This would be how the data table looks like by default. However, if I want to compare the GDP between the two countries at each individual years, it would be much easier to reshape the table according to year.

``` r
example1spread <- spread(example1,year,gdp_billions)
knitr::kable(example1spread)
```

| country |      1952|      1957|      1962|      1967|      1972|      1977|      1982|      1987|       1992|       1997|      2002|      2007|
|:--------|---------:|---------:|---------:|---------:|---------:|---------:|---------:|---------:|----------:|----------:|---------:|---------:|
| Canada  |  168.0701|  212.4560|  255.5967|  334.7108|  422.7497|  525.6835|  577.0931|   706.926|   751.3913|   877.5034|  1063.270|  1212.704|
| China   |  222.7550|  367.1387|  324.6787|  462.3171|  583.5082|  699.3242|  962.6918|  1494.780|  1928.9389|  2815.9297|  3993.927|  6539.501|
